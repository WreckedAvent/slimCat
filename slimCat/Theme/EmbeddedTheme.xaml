<ResourceDictionary x:Class="slimCat.Theme.EmbeddedTheme"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:gif="http://wpfanimatedgif.codeplex.com"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:models="clr-namespace:slimCat.Models"
                    xmlns:utilities="clr-namespace:slimCat.Utilities"
                    xmlns:v="clr-namespace:slimCat.Views"
                    mc:Ignorable="d">

    <SolidColorBrush x:Key="HistoryBrush"
                     Opacity="0.9"
                     Color="{StaticResource ForegroundColor}" />

    <BooleanToVisibilityConverter x:Key="BoolConverter" />
    <utilities:OppositeBoolConverter x:Key="OppositeBoolConverter" />
    <utilities:HiddenBoolConverter x:Key="HiddenBoolConverter" />
    <utilities:BoolColorConverter x:Key="ColorConverter" />
    <utilities:GenderImageConverter x:Key="GenderImageConverter" />
    <utilities:ChannelTypeToImageConverter x:Key="ChannelTypeToImageConverter" />
    <utilities:GreaterThanZeroConverter x:Key="GreaterThanZeroConverter" />
    <utilities:MessageInterestedColorConverter x:Key="MessageInterestedColorConverter" />
    <utilities:MessageDelimiterColorConverter x:Key="DelimiterColorConverter" />
    <utilities:CharacterStatusOpacityConverter x:Key="CharacterStatusOpacityConverter" />
    <utilities:MessageThicknessConverter x:Key="MessageThicknessConverter" />
    <utilities:NotEmptyConverter x:Key="NotEmptyConverter" />
    <utilities:EmptyConverter x:Key="EmptyConverter" />
    <utilities:NotEmptyBoolConverter x:Key="NotEmptyBoolConverter" />
    <utilities:ImagePathConverter x:Key="ImagePathConverter" />
    <utilities:NotNullConverter x:Key="NotNullConverter" />
    <utilities:NullConverter x:Key="NullConverter" />
    <utilities:CommaConverter x:Key="CommaConverter" />
    <utilities:CharacterAvatarConverter x:Key="CharacterAvatarConverter" />
    <utilities:CacheUriForeverConverter x:Key="CacheUriForeverConverter" />
    <utilities:AutoOrStarConverter x:Key="AutoOrStarConverter" />
    <utilities:RemoveSomeConverter x:Key="RemoveSomeConverter" />
    <utilities:ReduceRowConverter x:Key="ReduceRowConverter" />
    <utilities:EqualsConverter x:Key="EqualsConverter" />
    <utilities:EIconConverter x:Key="EIconConverter" />

    <utilities:ConverterChain x:Key="EqualsVisibilityConverterChain">
        <utilities:EqualsConverter />
        <BooleanToVisibilityConverter />
    </utilities:ConverterChain>

    <!--  These will be replaced with their instance values by the container  -->
    <utilities:GenderColorConverter x:Key="GenderColorConverter" />
    <utilities:NameplateColorConverter x:Key="NameplateColorConverter" />
    <utilities:NameplateMessageColorConverter x:Key="NameplateMessageColorConverter" />
    <utilities:BbFlowConverter x:Key="BbFlowConverter" />
    <utilities:BbCodePostConverter x:Key="BbPostConverter" />
    <utilities:BbCodeConverter x:Key="BbCodeConverter" />
    <utilities:ForegroundBrushConverter x:Key="ForegroundBrushConverter" />

    <Style x:Key="ChannelStyle" TargetType="Hyperlink">
        <Setter Property="Command" Value="{Binding Path=DataContext.JoinChannelCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Grid}, AncestorLevel=2}}" />
        <Setter Property="TextDecorations" Value="{x:Null}" />
        <Setter Property="TextBlock.FontWeight" Value="Medium" />

        <Style.Triggers>
            <Trigger Property="IsEnabled" Value="True">
                <Setter Property="Cursor" Value="Hand" />
            </Trigger>

            <Trigger Property="IsMouseOver" Value="False">
                <Setter Property="Foreground" Value="{StaticResource HighlightBrush}" />
            </Trigger>

            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}" />
            </Trigger>

            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Foreground" Value="{StaticResource DepressedBrush}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="UsernameStyle"
           d:DataContext="{d:DesignInstance models:ICharacter}"
           TargetType="Hyperlink">
        <Setter Property="Command" Value="{Binding Path=DataContext.NavigateTo, RelativeSource={RelativeSource AncestorType={x:Type Grid}, AncestorLevel=2}}" />
        <Setter Property="TextDecorations" Value="{x:Null}" />
        <Setter Property="TextBlock.FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{StaticResource HighlightBrush}" />
    </Style>

    <DataTemplate x:Key="ChannelTemplate" DataType="models:GeneralChannelModel">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="15" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>

            <Rectangle Width="15"
                       Height="15"
                       Fill="{StaticResource HighlightBrush}">
                <Rectangle.OpacityMask>
                    <ImageBrush ImageSource="{Binding Path=Type, Mode=OneTime, Converter={StaticResource ChannelTypeToImageConverter}}" />
                </Rectangle.OpacityMask>
            </Rectangle>

            <TextBlock Grid.Column="1"
                       MaxWidth="165"
                       Margin="2,0,0,0"
                       TextAlignment="Left"
                       TextWrapping="Wrap">
                <Hyperlink CommandParameter="{Binding Path=Id, Mode=OneTime}" Style="{StaticResource ChannelStyle}">
                    <Run Text="{Binding Path=Title, Mode=OneTime}" />
                    <Run Text="{Binding Path=DisplayNumber, Mode=OneWay}" />
                </Hyperlink>
            </TextBlock>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="UsernameTemplate" DataType="models:CharacterModel">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="15" />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>

            <Rectangle Width="15"
                       Height="15"
                       Fill="{Binding Converter={StaticResource GenderColorConverter},
                                      Mode=OneWay}">
                <Rectangle.OpacityMask>
                    <ImageBrush ImageSource="{Binding Path=Gender, Mode=OneTime, Converter={StaticResource GenderImageConverter}}" />
                </Rectangle.OpacityMask>
            </Rectangle>

            <TextBlock Grid.Column="1" TextWrapping="Wrap">
                <Hyperlink CommandParameter="{Binding Path=Name,
                                                      Mode=OneTime}"
                           Foreground="{Binding Converter={StaticResource NameplateColorConverter},
                                                Mode=OneWay}"
                           MouseRightButtonUp="OnMouseRightButtonUpForName"
                           Style="{StaticResource UsernameStyle}">
                    <Run Text="{Binding Path=Name, Mode=OneTime}" />
                </Hyperlink>
            </TextBlock>

        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="UserIconTemplate" DataType="models:CharacterModel">
        <TextBlock Margin="0" TextWrapping="Wrap">
            <Hyperlink CommandParameter="{Binding Path=Name,
                                                  Mode=OneTime}"
                       Foreground="{Binding Converter={StaticResource NameplateColorConverter},
                                            Mode=OneWay}"
                       MouseRightButtonUp="OnMouseRightButtonUpForIcon"
                       Style="{StaticResource UsernameStyle}">
                <Image Width="50"
                       Height="50"
                       Margin="0"
                       Source="{Binding Name,
                                        Converter={StaticResource CharacterAvatarConverter},
                                        IsAsync=True}" />
            </Hyperlink>
        </TextBlock>
    </DataTemplate>

    <DataTemplate x:Key="EIconTemplate" DataType="models:CharacterModel">
        <Image Width="50"
               Height="50"
               Margin="0"
               gif:ImageBehavior.AnimatedSource="{Binding Converter={StaticResource EIconConverter},
                                                          IsAsync=True}"
               PreviewMouseLeftButtonUp="OnMemeExpand"
               ToolTip="{Binding}" />
    </DataTemplate>

    <Style x:Key="Hyperlink" TargetType="Hyperlink">
        <Setter Property="Command" Value="{Binding Path=DataContext.NavigateTo, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Grid}, AncestorLevel=2}}" />

        <Setter Property="Foreground" Value="{StaticResource HighlightBrush}" />
        <Setter Property="FontWeight" Value="Light" />
        <Setter Property="TextDecorations" Value="{x:Null}" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="MenuItemCopy" TargetType="MenuItem">
        <Setter Property="Command" Value="{Binding Path=PlacementTarget.DataContext.CopyLink, RelativeSource={RelativeSource AncestorType=ContextMenu}}" />
        <Setter Property="Header" Value="Copy link address" />
    </Style>

    <ControlTemplate x:Key="GenderCheckBoxes"
                     d:DataContext="{d:DesignInstance models:GenderSettingsModel}"
                     TargetType="ContentControl">
        <StackPanel Orientation="Vertical">
            <TextBlock Margin="2,0"
                       Foreground="{StaticResource ForegroundBrush}"
                       Text="Show ..." />
            <CheckBox IsChecked="{Binding ShowMales}">Males</CheckBox>
            <CheckBox IsChecked="{Binding ShowFemales}">Females</CheckBox>
            <CheckBox IsChecked="{Binding ShowMaleHerms}">Masculine Herms</CheckBox>
            <CheckBox IsChecked="{Binding ShowFemaleHerms}">Feminine Herms</CheckBox>
            <CheckBox IsChecked="{Binding ShowCuntboys}">Cuntboys</CheckBox>
            <CheckBox IsChecked="{Binding ShowTransgenders}">Transgenders</CheckBox>
            <CheckBox IsChecked="{Binding ShowShemales}">Shemales</CheckBox>
            <CheckBox IsChecked="{Binding ShowNoGenders}">Genderless</CheckBox>
        </StackPanel>
    </ControlTemplate>

    <ControlTemplate x:Key="GeneralFilterCheckBoxes"
                     d:DataContext="{d:DesignInstance models:GenericSearchSettingsModel}"
                     TargetType="ContentControl">
        <StackPanel Orientation="Vertical">
            <TextBlock Margin="2,0"
                       Foreground="{StaticResource ForegroundBrush}"
                       Text="Who are ..." />
            <CheckBox IsChecked="{Binding ShowFriends}">Friends</CheckBox>
            <CheckBox IsChecked="{Binding ShowBookmarks}">Bookmarked</CheckBox>
            <CheckBox IsChecked="{Binding ShowMods}">Moderators</CheckBox>
            <CheckBox IsChecked="{Binding ShowLooking}">Looking For Play</CheckBox>
            <CheckBox IsChecked="{Binding ShowNormal}">Just Online</CheckBox>
            <CheckBox IsChecked="{Binding ShowBusyAway}">Busy or Away</CheckBox>
            <CheckBox IsChecked="{Binding ShowNotInterested}">Not Interesting</CheckBox>
            <CheckBox IsChecked="{Binding ShowDnd}">DND</CheckBox>
            <CheckBox IsChecked="{Binding ShowIgnored}">Ignored</CheckBox>
        </StackPanel>
    </ControlTemplate>

    <ControlTemplate x:Key="StatusCheckBoxes"
                     d:DataContext="{d:DesignInstance models:GenericSearchSettingsModel}"
                     TargetType="ContentControl">
        <StackPanel Orientation="Vertical">
            <TextBlock Margin="2,0"
                       Foreground="{StaticResource ForegroundBrush}"
                       Text="Who are ..." />
            <CheckBox IsChecked="{Binding ShowLooking}">Looking For Play</CheckBox>
            <CheckBox IsChecked="{Binding ShowNormal}">Just Online</CheckBox>
            <CheckBox IsChecked="{Binding ShowBusyAway}">Busy or Away</CheckBox>
            <CheckBox IsChecked="{Binding ShowDnd}">DND</CheckBox>
        </StackPanel>
    </ControlTemplate>

    <Style x:Key="ActivatingToggleButton"
           BasedOn="{StaticResource ImageContentToggleButton}"
           TargetType="ToggleButton">
        <Style.Triggers>
            <Trigger Property="v:Properties.NeedsAttention" Value="True">
                <Setter Property="Foreground" Value="{StaticResource HighlightBrush}" />
            </Trigger>
            <Trigger Property="v:Properties.NeedsAttention" Value="False">
                <Setter Property="Foreground" Value="{StaticResource DepressedBrush}" />
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Cursor" Value="Hand" />
                <Setter Property="Foreground" Value="{StaticResource HighlightBrush}" />
                <Setter Property="Background" Value="{StaticResource BackgroundBrush}" />
            </Trigger>
            <Trigger Property="IsChecked" Value="True">
                <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}" />
                <Setter Property="Background" Value="{StaticResource BackgroundBrush}" />
            </Trigger>
            <Trigger Property="IsPressed" Value="True">
                <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="{x:Type v:ImageTextBox}"
           BasedOn="{StaticResource {x:Type TextBox}}"
           TargetType="{x:Type v:ImageTextBox}">
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="LabelTextColor" Value="{StaticResource DepressedBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type v:ImageTextBox}">
                    <Border x:Name="Border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="2">
                        <Grid x:Name="LayoutGrid">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="22" />
                            </Grid.ColumnDefinitions>
                            <ScrollViewer x:Name="PART_ContentHost" Grid.Column="0" />
                            <Label x:Name="LabelText"
                                   Grid.Column="0"
                                   Content="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                     Path=LabelText}"
                                   FontStyle="Italic"
                                   Foreground="{TemplateBinding Foreground}"
                                   Padding="2,0,0,0"
                                   Visibility="{Binding RelativeSource={RelativeSource TemplatedParent},
                                                        Path=HasText,
                                                        Converter={StaticResource OppositeBoolConverter}}" />
                            <Border x:Name="PART_SearchIconBorder"
                                    Grid.Column="1"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    BorderThickness="1"
                                    Padding="1">
                                <Rectangle Width="18"
                                           Height="15"
                                           Fill="{TemplateBinding Foreground}"
                                           OpacityMask="{TemplateBinding IconSource,
                                                                         Converter={StaticResource ImagePathConverter}}" />
                            </Border>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="False">
                            <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource DepressedBrush}" />
                        </Trigger>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource HighlightBrush}" />
                            <Setter TargetName="LabelText" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Focusable" Value="False" />
                            <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundBrush}" />
                            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}" />
                            <Setter TargetName="LabelText" Property="Content" Value="Sent" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="True">
                            <Setter Property="Foreground" Value="{StaticResource DepressedBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <Trigger Property="IsFocused" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource HighlightBrush}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="NoScrollListBox" TargetType="{x:Type ItemsControl}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <ItemsPresenter />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="HorizontalListBoxStyle"
           BasedOn="{StaticResource NoScrollListBox}"
           TargetType="{x:Type ItemsControl}">
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <WrapPanel IsItemsHost="True" Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="AvatarBoxStyle" TargetType="ItemsControl">
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Background" Value="Transparent" />

        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <WrapPanel IsItemsHost="True" Orientation="Horizontal" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>

        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate DataType="models:CharacterModel">
                    <StackPanel Margin="5" Cursor="Hand">
                        <StackPanel.Style>
                            <Style TargetType="StackPanel">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="TextBlock.Foreground" Value="{StaticResource HighlightBrush}" />
                                        <Setter Property="Opacity" Value="1" />
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="False">
                                        <Setter Property="Opacity" Value="{Binding Path=Status, Converter={StaticResource CharacterStatusOpacityConverter}}" />
                                        <Setter Property="TextBlock.Foreground" Value="{StaticResource ForegroundBrush}" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </StackPanel.Style>
                        <Border BorderBrush="{StaticResource HighlightBrush}" BorderThickness="0,0,0,1">
                            <Image Width="75"
                                   Height="75"
                                   Source="{Binding Path=Avatar}" />
                        </Border>

                        <TextBlock MaxWidth="100"
                                   HorizontalAlignment="Center"
                                   FontSize="14"
                                   FontWeight="Medium"
                                   IsHyphenationEnabled="True"
                                   Padding="2"
                                   Text="{Binding Path=Name}"
                                   TextWrapping="Wrap" />

                        <StackPanel.InputBindings>
                            <MouseBinding Command="{Binding Path=DataContext.OpenRightClickMenuCommand,
                                                            RelativeSource={RelativeSource AncestorType={x:Type Grid},
                                                                                           AncestorLevel=2}}"
                                          CommandParameter="{Binding Path=Name,
                                                                     Mode=OneTime}"
                                          MouseAction="RightClick" />

                            <MouseBinding Command="{Binding Path=DataContext.RequestPmCommand,
                                                            RelativeSource={RelativeSource AncestorType={x:Type Grid},
                                                                                           AncestorLevel=2}}"
                                          CommandParameter="{Binding Path=Name,
                                                                     Mode=OneTime}"
                                          MouseAction="LeftClick" />
                        </StackPanel.InputBindings>
                    </StackPanel>
                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="GridSplitter">
        <Setter Property="BorderThickness" Value="1.5" />
        <Setter Property="VerticalAlignment" Value="Top" />
        <Setter Property="ResizeDirection" Value="Rows" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="False">
                <Setter Property="BorderBrush" Value="{StaticResource DepressedBrush}" />
                <Setter Property="Opacity" Value="0.5" />
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="BorderBrush" Value="{StaticResource HighlightBrush}" />
                <Setter Property="Opacity" Value="1" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <!--
        Theme for Flowdocument reader
        Warning: This was reflected out of an assembly
        So it's very ugly and long and makes visual studio unhappy.
        
        But works.
    -->

    <Style TargetType="{x:Type FlowDocumentReader}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type FlowDocumentReader}">
                    <DockPanel Uid="DockPanel_3"
                               Language="en-us"
                               LastChildFill="True">
                        <Grid Uid="Grid_31"
                              HorizontalAlignment="Stretch"
                              Background="{TemplateBinding Background}"
                              DockPanel.Dock="Bottom">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Uid="StackPanel_5"
                                        Grid.Column="0"
                                        Orientation="Horizontal">
                                <ToggleButton Uid="ToggleButton_1"
                                              x:Name="FindButton"
                                              Margin="3,0"
                                              Command="ApplicationCommands.Find"
                                              Focusable="False"
                                              ToolTip="Find">
                                    <ToggleButton.Style>
                                        <Style TargetType="{x:Type ToggleButton}">
                                            <Style.BasedOn>
                                                <Style TargetType="{x:Type ButtonBase}">
                                                    <Setter Property="Focusable" Value="False" />
                                                    <Setter Property="Opacity" Value="0.5" />
                                                    <Setter Property="Cursor" Value="Hand" />
                                                    <Setter Property="Background" Value="Transparent" />
                                                    <Setter Property="Padding" Value="3,1" />
                                                    <Setter Property="BorderBrush" Value="{x:Null}" />
                                                    <Setter Property="BorderThickness" Value="0" />
                                                    <Setter Property="MinWidth" Value="0" />
                                                    <Setter Property="MinHeight" Value="0" />
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                    <ContentPresenter Uid="ContentPresenter_2"
                                                                                      x:Name="Content"
                                                                                      Content="{TemplateBinding Content}"
                                                                                      ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                      ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                      RenderTransformOrigin="0.5,0.5" />
                                                                </Border>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter TargetName="Content" Property="RenderTransform">
                                                                            <Setter.Value>
                                                                                <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Trigger>
                                                                    <Trigger Property="IsPressed" Value="True">
                                                                        <Setter TargetName="Content" Property="RenderTransform">
                                                                            <Setter.Value>
                                                                                <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                    <Style.Triggers>
                                                        <Trigger Property="IsEnabled" Value="False">
                                                            <Setter Property="Opacity" Value="0.3" />
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Opacity" Value="1" />
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Style.BasedOn>
                                            <Style.Triggers>
                                                <Trigger Property="IsEnabled" Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Trigger>
                                                <Trigger Property="IsChecked" Value="True">
                                                    <Setter Property="Opacity" Value="1" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ToggleButton.Style>
                                    <Path Uid="Path_23"
                                          VerticalAlignment="Center"
                                          Stroke="{TemplateBinding Foreground}">
                                        <Path.Data>
                                            <GeometryGroup>
                                                <RectangleGeometry RadiusX="1"
                                                                   RadiusY="1"
                                                                   Rect="0.5,0.5,19,19" />
                                                <EllipseGeometry Center="12,8"
                                                                 RadiusX="5"
                                                                 RadiusY="5" />
                                                <EllipseGeometry Center="12,8"
                                                                 RadiusX="4"
                                                                 RadiusY="4" />
                                                <LineGeometry StartPoint="2.5,16.5" EndPoint="9,10" />
                                                <LineGeometry StartPoint="3,17" EndPoint="9.5,10.5" />
                                                <LineGeometry StartPoint="3.5,17.5" EndPoint="10,11" />
                                            </GeometryGroup>
                                        </Path.Data>
                                    </Path>
                                </ToggleButton>
                                <Border Uid="Border_64"
                                        x:Name="PART_FindToolBarHost"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Visibility="Collapsed" />
                            </StackPanel>

                            <StackPanel Uid="StackPanel_3"
                                        x:Name="PageCountAndButtons"
                                        Grid.Column="1"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Orientation="Horizontal">
                                <RepeatButton Uid="RepeatButton_3"
                                              Command="NavigationCommands.PreviousPage"
                                              Focusable="False"
                                              IsEnabled="{TemplateBinding CanGoToPreviousPage}"
                                              ToolTip="Previous Page">
                                    <RepeatButton.Style>
                                        <Style TargetType="{x:Type RepeatButton}">
                                            <Setter Property="Padding" Value="5" />
                                            <Setter Property="Delay" Value="1000" />
                                            <Setter Property="Interval" Value="250" />
                                            <Style.BasedOn>
                                                <Style TargetType="{x:Type ButtonBase}">
                                                    <Setter Property="Focusable" Value="False" />
                                                    <Setter Property="Cursor" Value="Hand" />
                                                    <Setter Property="Background" Value="Transparent" />
                                                    <Setter Property="Padding" Value="3,1" />
                                                    <Setter Property="BorderBrush" Value="{x:Null}" />
                                                    <Setter Property="BorderThickness" Value="0" />
                                                    <Setter Property="MinWidth" Value="0" />
                                                    <Setter Property="MinHeight" Value="0" />
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                    <Viewbox Uid="Viewbox_5"
                                                                             x:Name="Content"
                                                                             Height="{TemplateBinding FontSize}">
                                                                        <Path Uid="Path_15"
                                                                              x:Name="ArrowLeft"
                                                                              Data="M5,0 L5,10 L0,5 z"
                                                                              Fill="{StaticResource BrightBackgroundBrush}" />
                                                                    </Viewbox>
                                                                </Border>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter TargetName="ArrowLeft" Property="Fill" Value="{StaticResource HighlightBrush}" />
                                                                    </Trigger>

                                                                    <Trigger Property="IsPressed" Value="True">
                                                                        <Setter TargetName="Content" Property="RenderTransform">
                                                                            <Setter.Value>
                                                                                <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                    <Style.Triggers>
                                                        <Trigger Property="IsEnabled" Value="False">
                                                            <Setter Property="Opacity" Value="0.3" />
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Style.BasedOn>
                                        </Style>
                                    </RepeatButton.Style>
                                </RepeatButton>

                                <TextBlock Uid="TextBlock_5"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Foreground="{StaticResource BrightBackgroundBrush}">
                                    <Run Text=" " />
                                    <Run Text=" " />
                                    <InlineUIContainer>
                                        <TextBlock Uid="TextBlock_6" Text="{Binding PageNumber, RelativeSource={RelativeSource TemplatedParent}}" />
                                    </InlineUIContainer>

                                    <Run Text=" " />
                                    <Run Text=" of " />
                                    <Run Text=" " />

                                    <InlineUIContainer>
                                        <TextBlock Uid="TextBlock_7" Text="{Binding PageCount, RelativeSource={RelativeSource TemplatedParent}}" />
                                    </InlineUIContainer>
                                    <Run Text=" " />
                                    <Run Text=" " />
                                </TextBlock>

                                <RepeatButton Uid="RepeatButton_4"
                                              Command="NavigationCommands.NextPage"
                                              Focusable="False"
                                              IsEnabled="{TemplateBinding CanGoToNextPage}"
                                              ToolTip="Next Page">
                                    <RepeatButton.Style>
                                        <Style TargetType="{x:Type RepeatButton}">
                                            <Setter Property="Padding" Value="5" />
                                            <Setter Property="Delay" Value="1000" />
                                            <Setter Property="Interval" Value="250" />
                                            <Style.BasedOn>
                                                <Style TargetType="{x:Type ButtonBase}">
                                                    <Setter Property="Focusable" Value="False" />
                                                    <Setter Property="Cursor" Value="Hand" />
                                                    <Setter Property="Background" Value="Transparent" />
                                                    <Setter Property="Padding" Value="3,1" />
                                                    <Setter Property="BorderBrush" Value="{x:Null}" />
                                                    <Setter Property="BorderThickness" Value="0" />
                                                    <Setter Property="MinWidth" Value="0" />
                                                    <Setter Property="MinHeight" Value="0" />
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                    <Viewbox Uid="Viewbox_6"
                                                                             x:Name="Content"
                                                                             Height="{TemplateBinding FontSize}">
                                                                        <Path Uid="Path_16"
                                                                              x:Name="ArrowRight"
                                                                              Data="M0,0 L0,10 L5,5 z"
                                                                              Fill="{StaticResource BrightBackgroundBrush}" />
                                                                    </Viewbox>
                                                                </Border>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter TargetName="ArrowRight" Property="Fill" Value="{StaticResource HighlightBrush}" />
                                                                    </Trigger>

                                                                    <Trigger Property="IsPressed" Value="True">
                                                                        <Setter TargetName="Content" Property="RenderTransform">
                                                                            <Setter.Value>
                                                                                <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                    <Style.Triggers>
                                                        <Trigger Property="IsEnabled" Value="False">
                                                            <Setter Property="Opacity" Value="0.3" />
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Opacity" Value="1" />
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Style.BasedOn>
                                        </Style>
                                    </RepeatButton.Style>
                                </RepeatButton>
                            </StackPanel>


                            <Grid Uid="Grid_24"
                                  Grid.Column="2"
                                  HorizontalAlignment="Right"
                                  VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <StackPanel Uid="StackPanel_4" Orientation="Horizontal">
                                    <RadioButton Uid="RadioButton_1"
                                                 x:Name="PageViewButton"
                                                 Command="FlowDocumentReader.SwitchViewingModeCommand"
                                                 CommandParameter="Page"
                                                 GroupName="ViewingMode"
                                                 IsEnabled="{TemplateBinding IsPageViewEnabled}"
                                                 ToolTip="Page Mode">
                                        <RadioButton.Style>
                                            <Style TargetType="{x:Type RadioButton}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type RadioButton}">
                                                            <Border Uid="Border_40"
                                                                    Background="{TemplateBinding Background}"
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    Padding="{TemplateBinding Padding}">
                                                                <ContentPresenter Uid="ContentPresenter_3"
                                                                                  x:Name="Content"
                                                                                  Content="{TemplateBinding Content}"
                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.BasedOn>
                                                    <Style TargetType="{x:Type ToggleButton}">
                                                        <Style.BasedOn>
                                                            <Style TargetType="{x:Type ButtonBase}">
                                                                <Setter Property="Focusable" Value="False" />
                                                                <Setter Property="Opacity" Value="0.5" />
                                                                <Setter Property="Cursor" Value="Hand" />
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Setter Property="Padding" Value="3,1" />
                                                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                                                <Setter Property="BorderThickness" Value="0" />
                                                                <Setter Property="MinWidth" Value="0" />
                                                                <Setter Property="MinHeight" Value="0" />
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                            <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                                <ContentPresenter Uid="ContentPresenter_2"
                                                                                                  x:Name="Content"
                                                                                                  Content="{TemplateBinding Content}"
                                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter Property="Opacity" Value="0.3" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Opacity" Value="1" />
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Style.BasedOn>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </Trigger>
                                                            <Trigger Property="IsChecked" Value="True">
                                                                <Setter Property="Opacity" Value="1" />
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Style.BasedOn>
                                            </Style>
                                        </RadioButton.Style>
                                        <Path Uid="Path_20"
                                              VerticalAlignment="Center"
                                              Stroke="{TemplateBinding Foreground}">
                                            <Path.Data>
                                                <GeometryGroup>
                                                    <RectangleGeometry RadiusX="1"
                                                                       RadiusY="1"
                                                                       Rect="0.5,0.5,19,19" />
                                                    <RectangleGeometry Rect="4.5,3.5,11,13" />
                                                    <LineGeometry StartPoint="4.5,4.5" EndPoint="15.5,4.5" />
                                                    <LineGeometry StartPoint="4.5,6.5" EndPoint="15.5,6.5" />
                                                    <LineGeometry StartPoint="4.5,8.5" EndPoint="15.5,8.5" />
                                                    <LineGeometry StartPoint="4.5,10.5" EndPoint="15.5,10.5" />
                                                    <LineGeometry StartPoint="4.5,12.5" EndPoint="15.5,12.5" />
                                                    <LineGeometry StartPoint="4.5,14.5" EndPoint="15.5,14.5" />
                                                </GeometryGroup>
                                            </Path.Data>
                                        </Path>
                                    </RadioButton>

                                    <RadioButton Uid="RadioButton_2"
                                                 x:Name="TwoPageViewButton"
                                                 Command="FlowDocumentReader.SwitchViewingModeCommand"
                                                 CommandParameter="TwoPage"
                                                 GroupName="ViewingMode"
                                                 IsEnabled="{TemplateBinding IsTwoPageViewEnabled}"
                                                 ToolTip="Two Page Mode">
                                        <RadioButton.Style>
                                            <Style TargetType="{x:Type RadioButton}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type RadioButton}">
                                                            <Border Uid="Border_40"
                                                                    Background="{TemplateBinding Background}"
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    Padding="{TemplateBinding Padding}">
                                                                <ContentPresenter Uid="ContentPresenter_3"
                                                                                  x:Name="Content"
                                                                                  Content="{TemplateBinding Content}"
                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.BasedOn>
                                                    <Style TargetType="{x:Type ToggleButton}">
                                                        <Style.BasedOn>
                                                            <Style TargetType="{x:Type ButtonBase}">
                                                                <Setter Property="Focusable" Value="False" />
                                                                <Setter Property="Opacity" Value="0.5" />
                                                                <Setter Property="Cursor" Value="Hand" />
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Setter Property="Padding" Value="3,1" />
                                                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                                                <Setter Property="BorderThickness" Value="0" />
                                                                <Setter Property="MinWidth" Value="0" />
                                                                <Setter Property="MinHeight" Value="0" />
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                            <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                                <ContentPresenter Uid="ContentPresenter_2"
                                                                                                  x:Name="Content"
                                                                                                  Content="{TemplateBinding Content}"
                                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Foreground" Value="{StaticResource HighlightBrush}" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter Property="Opacity" Value="0.3" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Opacity" Value="1" />
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Style.BasedOn>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </Trigger>
                                                            <Trigger Property="IsChecked" Value="True">
                                                                <Setter Property="Opacity" Value="1" />
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Style.BasedOn>
                                            </Style>
                                        </RadioButton.Style>
                                        <Path Uid="Path_21"
                                              VerticalAlignment="Center"
                                              Stroke="{TemplateBinding Foreground}">
                                            <Path.Data>
                                                <GeometryGroup>
                                                    <RectangleGeometry RadiusX="1"
                                                                       RadiusY="1"
                                                                       Rect="0.5,0.5,19,19" />
                                                    <RectangleGeometry Rect="3.5,3.5,5,13" />
                                                    <LineGeometry StartPoint="3.5,4.5" EndPoint="8.5,4.5" />
                                                    <LineGeometry StartPoint="3.5,6.5" EndPoint="8.5,6.5" />
                                                    <LineGeometry StartPoint="3.5,8.5" EndPoint="8.5,8.5" />
                                                    <LineGeometry StartPoint="3.5,10.5" EndPoint="8.5,10.5" />
                                                    <LineGeometry StartPoint="3.5,12.5" EndPoint="8.5,12.5" />
                                                    <LineGeometry StartPoint="3.5,14.5" EndPoint="8.5,14.5" />
                                                    <RectangleGeometry Rect="11.5,3.5,5,13" />
                                                    <LineGeometry StartPoint="11.5,4.5" EndPoint="16.5,4.5" />
                                                    <LineGeometry StartPoint="11.5,6.5" EndPoint="16.5,6.5" />
                                                    <LineGeometry StartPoint="11.5,8.5" EndPoint="16.5,8.5" />
                                                    <LineGeometry StartPoint="11.5,10.5" EndPoint="16.5,10.5" />
                                                    <LineGeometry StartPoint="11.5,12.5" EndPoint="16.5,12.5" />
                                                    <LineGeometry StartPoint="11.5,14.5" EndPoint="16.5,14.5" />
                                                </GeometryGroup>
                                            </Path.Data>
                                        </Path>
                                    </RadioButton>

                                    <RadioButton Uid="RadioButton_3"
                                                 x:Name="ScrollViewButton"
                                                 Command="FlowDocumentReader.SwitchViewingModeCommand"
                                                 CommandParameter="Scroll"
                                                 GroupName="ViewingMode"
                                                 IsEnabled="{TemplateBinding IsScrollViewEnabled}"
                                                 ToolTip="Scroll Mode">
                                        <RadioButton.Style>
                                            <Style TargetType="{x:Type RadioButton}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type RadioButton}">
                                                            <Border Uid="Border_40"
                                                                    Background="{TemplateBinding Background}"
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    Padding="{TemplateBinding Padding}">
                                                                <ContentPresenter Uid="ContentPresenter_3"
                                                                                  x:Name="Content"
                                                                                  Content="{TemplateBinding Content}"
                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsPressed" Value="True">
                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.BasedOn>
                                                    <Style TargetType="{x:Type ToggleButton}">
                                                        <Style.BasedOn>
                                                            <Style TargetType="{x:Type ButtonBase}">
                                                                <Setter Property="Focusable" Value="False" />
                                                                <Setter Property="Opacity" Value="0.5" />
                                                                <Setter Property="Cursor" Value="Hand" />
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Setter Property="Padding" Value="3,1" />
                                                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                                                <Setter Property="BorderThickness" Value="0" />
                                                                <Setter Property="MinWidth" Value="0" />
                                                                <Setter Property="MinHeight" Value="0" />
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="{x:Type ButtonBase}">
                                                                            <Border Uid="Border_39" Background="{TemplateBinding Background}">
                                                                                <ContentPresenter Uid="ContentPresenter_2"
                                                                                                  x:Name="Content"
                                                                                                  Content="{TemplateBinding Content}"
                                                                                                  ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                  RenderTransformOrigin="0.5,0.5" />
                                                                            </Border>
                                                                            <ControlTemplate.Triggers>
                                                                                <Trigger Property="IsPressed" Value="True">
                                                                                    <Setter TargetName="Content" Property="RenderTransform">
                                                                                        <Setter.Value>
                                                                                            <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Trigger>
                                                                            </ControlTemplate.Triggers>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter Property="Opacity" Value="0.3" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Opacity" Value="1" />
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Style.BasedOn>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </Trigger>
                                                            <Trigger Property="IsChecked" Value="True">
                                                                <Setter Property="Opacity" Value="1" />
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Style.BasedOn>
                                            </Style>
                                        </RadioButton.Style>
                                        <Path Uid="Path_22"
                                              VerticalAlignment="Center"
                                              Stroke="{TemplateBinding Foreground}">
                                            <Path.Data>
                                                <GeometryGroup>
                                                    <RectangleGeometry RadiusX="1"
                                                                       RadiusY="1"
                                                                       Rect="0.5,0.5,19,19" />
                                                    <RectangleGeometry Rect="3.5,3.5,8,13" />
                                                    <LineGeometry StartPoint="3.5,4.5" EndPoint="11.5,4.5" />
                                                    <LineGeometry StartPoint="3.5,6.5" EndPoint="11.5,6.5" />
                                                    <LineGeometry StartPoint="3.5,8.5" EndPoint="11.5,8.5" />
                                                    <LineGeometry StartPoint="3.5,10.5" EndPoint="11.5,10.5" />
                                                    <LineGeometry StartPoint="3.5,12.5" EndPoint="11.5,12.5" />
                                                    <LineGeometry StartPoint="3.5,14.5" EndPoint="11.5,14.5" />
                                                    <RectangleGeometry Rect="13.5,3.5,3,13" />
                                                    <RectangleGeometry Rect="14.5,4.5,1,3" />
                                                    <RectangleGeometry Rect="14.5,12.5,1,3" />
                                                </GeometryGroup>
                                            </Path.Data>
                                        </Path>
                                    </RadioButton>
                                </StackPanel>

                                <RepeatButton Uid="RepeatButton_5"
                                              Grid.Column="1"
                                              Width="{TemplateBinding FontSize}"
                                              Height="{TemplateBinding FontSize}"
                                              BorderBrush="{TemplateBinding BorderBrush}"
                                              Command="NavigationCommands.DecreaseZoom"
                                              Focusable="False"
                                              Foreground="{TemplateBinding Foreground}"
                                              IsEnabled="{TemplateBinding CanDecreaseZoom}"
                                              ToolTip="Decrease Zoom">
                                    <RepeatButton.LayoutTransform>
                                        <ScaleTransform ScaleX="2.2" ScaleY="2.2" />
                                    </RepeatButton.LayoutTransform>
                                    <RepeatButton.Style>
                                        <Style TargetType="{x:Type RepeatButton}">
                                            <Setter Property="Padding" Value="2,2,0,2" />
                                            <Setter Property="Cursor" Value="Hand" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                        <Border Uid="Border_41"
                                                                Background="Transparent"
                                                                Padding="{Binding Padding,
                                                                                  RelativeSource={RelativeSource TemplatedParent}}">
                                                            <Viewbox Uid="Viewbox_2"
                                                                     x:Name="Content"
                                                                     RenderTransformOrigin="0.5,0.5">
                                                                <Canvas Uid="Canvas_4"
                                                                        Width="32"
                                                                        Height="32">
                                                                    <Path Uid="Path_9"
                                                                          x:Name="Cross"
                                                                          Canvas.Left="16"
                                                                          Canvas.Top="16"
                                                                          Stroke="{StaticResource BrightBackgroundBrush}"
                                                                          StrokeThickness="5">
                                                                        <Path.Data>
                                                                            <LineGeometry StartPoint="-10,0" EndPoint="10,0" />
                                                                        </Path.Data>
                                                                    </Path>
                                                                </Canvas>
                                                            </Viewbox>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="Cross" Property="Stroke" Value="{StaticResource HighlightBrush}" />
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="Content" Property="RenderTransform">
                                                                    <Setter.Value>
                                                                        <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </RepeatButton.Style>
                                </RepeatButton>

                                <Slider Uid="Slider_1"
                                        Grid.Column="2"
                                        Width="100"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Center"
                                        Focusable="False"
                                        FontSize="{TemplateBinding FontSize}"
                                        LargeChange="{TemplateBinding ZoomIncrement}"
                                        Maximum="{TemplateBinding MaxZoom}"
                                        Minimum="{TemplateBinding MinZoom}"
                                        SmallChange="{TemplateBinding ZoomIncrement}"
                                        TickFrequency="{TemplateBinding ZoomIncrement}"
                                        Value="{Binding Zoom,
                                                        Mode=TwoWay,
                                                        RelativeSource={RelativeSource TemplatedParent}}">
                                    <Slider.Style>
                                        <Style TargetType="{x:Type Slider}">
                                            <Setter Property="Stylus.IsPressAndHoldEnabled" Value="False" />
                                            <Setter Property="Focusable" Value="False" />
                                            <Setter Property="OverridesDefaultStyle" Value="True" />
                                            <Setter Property="Background" Value="{Binding Background, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <Setter Property="BorderThickness" Value="1" />
                                            <Setter Property="BorderBrush" Value="#00000000" />
                                            <Setter Property="Foreground" Value="{Binding Foreground, RelativeSource={RelativeSource TemplatedParent}}" />
                                            <Setter Property="IsSnapToTickEnabled" Value="True" />
                                            <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
                                            <Setter Property="MinWidth" Value="50" />
                                            <Setter Property="MinHeight" Value="0" />
                                            <Setter Property="Width" Value="Auto" />
                                            <Setter Property="Padding" Value="2,0" />
                                            <Setter Property="Height" Value="Auto" />
                                            <Setter Property="Opacity" Value="0.95" />
                                            <Setter Property="Delay" Value="1000" />
                                            <Setter Property="Interval" Value="250" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type Slider}">
                                                        <Border Uid="Border_45"
                                                                Background="Transparent"
                                                                Padding="{TemplateBinding Padding}">
                                                            <Grid Uid="Grid_22" ClipToBounds="False">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                </Grid.ColumnDefinitions>
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto" />
                                                                    <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}" />
                                                                    <RowDefinition Height="Auto" />
                                                                    <RowDefinition Height="*" />
                                                                </Grid.RowDefinitions>
                                                                <TickBar Uid="TickBar_1"
                                                                         x:Name="TopTick"
                                                                         Grid.Row="0"
                                                                         Height="4"
                                                                         Fill="{TemplateBinding Foreground}"
                                                                         Placement="Top"
                                                                         Visibility="Collapsed" />
                                                                <Border Uid="Border_46"
                                                                        Grid.Row="1"
                                                                        Height="2"
                                                                        Background="{TemplateBinding Foreground}"
                                                                        CornerRadius="2"
                                                                        Opacity="0.5" />
                                                                <Canvas Uid="Canvas_7"
                                                                        Grid.Row="1"
                                                                        Height="4"
                                                                        VerticalAlignment="Center">
                                                                    <Rectangle Uid="Rectangle_17"
                                                                               x:Name="PART_SelectionRange"
                                                                               Canvas.Top="1"
                                                                               Height="2"
                                                                               Fill="{TemplateBinding Foreground}"
                                                                               Visibility="Hidden" />
                                                                </Canvas>
                                                                <Track Uid="PART_Track"
                                                                       x:Name="PART_Track"
                                                                       Grid.Row="1">
                                                                    <Track.DecreaseRepeatButton>
                                                                        <RepeatButton Uid="RepeatButton_1" Command="Slider.DecreaseLarge">
                                                                            <RepeatButton.Style>
                                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                                    <Setter Property="OverridesDefaultStyle" Value="True" />
                                                                                    <Setter Property="IsTabStop" Value="False" />
                                                                                    <Setter Property="Focusable" Value="False" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                <Border Uid="Border_43" Background="Transparent" />
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </RepeatButton.Style>
                                                                        </RepeatButton>
                                                                    </Track.DecreaseRepeatButton>
                                                                    <Track.IncreaseRepeatButton>
                                                                        <RepeatButton Uid="RepeatButton_2" Command="Slider.IncreaseLarge">
                                                                            <RepeatButton.Style>
                                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                                    <Setter Property="OverridesDefaultStyle" Value="True" />
                                                                                    <Setter Property="IsTabStop" Value="False" />
                                                                                    <Setter Property="Focusable" Value="False" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                                <Border Uid="Border_43" Background="Transparent" />
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </RepeatButton.Style>
                                                                        </RepeatButton>
                                                                    </Track.IncreaseRepeatButton>
                                                                    <Track.Thumb>
                                                                        <Thumb Uid="Thumb_5" Background="{TemplateBinding Background}">
                                                                            <Thumb.Style>
                                                                                <Style TargetType="{x:Type Thumb}">
                                                                                    <Setter Property="Background" Value="{Binding Background, RelativeSource={RelativeSource TemplatedParent}}" />
                                                                                    <Setter Property="Focusable" Value="False" />
                                                                                    <Setter Property="OverridesDefaultStyle" Value="True" />
                                                                                    <Setter Property="Cursor" Value="Hand" />
                                                                                    <Setter Property="Padding" Value="6" />
                                                                                    <Setter Property="Template">
                                                                                        <Setter.Value>
                                                                                            <ControlTemplate TargetType="{x:Type Thumb}">
                                                                                                <Border Uid="Border_44"
                                                                                                        Margin="-2"
                                                                                                        Background="Transparent"
                                                                                                        Padding="{Binding Padding,
                                                                                                                          RelativeSource={RelativeSource TemplatedParent}}">
                                                                                                    <Viewbox Uid="Viewbox_4"
                                                                                                             Width="{Binding FontSize,
                                                                                                                             RelativeSource={RelativeSource TemplatedParent}}"
                                                                                                             HorizontalAlignment="Center"
                                                                                                             VerticalAlignment="Center">
                                                                                                        <Viewbox.LayoutTransform>
                                                                                                            <ScaleTransform ScaleX="1" ScaleY="1" />
                                                                                                        </Viewbox.LayoutTransform>
                                                                                                        <Canvas Uid="Canvas_6"
                                                                                                                Width="13"
                                                                                                                Height="17">
                                                                                                            <Path Uid="Path_13"
                                                                                                                  x:Name="Tick"
                                                                                                                  Data="F1 M1,0 L10,0 L11,1 L11,13 L6.5,17 L4.5,17 L0,13 L0,1 L1,0 z"
                                                                                                                  Fill="{StaticResource DepressedBrush}" />
                                                                                                        </Canvas>
                                                                                                    </Viewbox>
                                                                                                </Border>
                                                                                                <ControlTemplate.Triggers>
                                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                                        <Setter TargetName="Tick" Property="Fill" Value="{StaticResource HighlightBrush}" />
                                                                                                    </Trigger>
                                                                                                </ControlTemplate.Triggers>
                                                                                            </ControlTemplate>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </Thumb.Style>
                                                                        </Thumb>
                                                                    </Track.Thumb>
                                                                </Track>
                                                                <TickBar Uid="TickBar_2"
                                                                         x:Name="BottomTick"
                                                                         Grid.Row="2"
                                                                         Height="4"
                                                                         Fill="{TemplateBinding Foreground}"
                                                                         Placement="Bottom"
                                                                         Visibility="Collapsed" />
                                                            </Grid>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="TickPlacement" Value="TopLeft">
                                                                <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                                                            </Trigger>
                                                            <Trigger Property="TickPlacement" Value="BottomRight">
                                                                <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                                                            </Trigger>
                                                            <Trigger Property="TickPlacement" Value="Both">
                                                                <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                                                                <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                                                            </Trigger>
                                                            <Trigger Property="IsSelectionRangeEnabled" Value="True">
                                                                <Setter TargetName="PART_SelectionRange" Property="Visibility" Value="Visible" />
                                                            </Trigger>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Opacity" Value="1" />
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.3" />
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Slider.Style>
                                </Slider>

                                <RepeatButton Uid="RepeatButton_6"
                                              Grid.Column="3"
                                              Width="{TemplateBinding FontSize}"
                                              Height="{TemplateBinding FontSize}"
                                              BorderBrush="{TemplateBinding BorderBrush}"
                                              Command="NavigationCommands.IncreaseZoom"
                                              Focusable="False"
                                              Foreground="{TemplateBinding Foreground}"
                                              IsEnabled="{TemplateBinding CanIncreaseZoom}"
                                              ToolTip="Increase Zoom">
                                    <RepeatButton.LayoutTransform>
                                        <ScaleTransform ScaleX="2.2" ScaleY="2.2" />
                                    </RepeatButton.LayoutTransform>
                                    <RepeatButton.Style>
                                        <Style TargetType="{x:Type RepeatButton}">
                                            <Setter Property="Padding" Value="0,2,2,2" />
                                            <Setter Property="Cursor" Value="Hand" />
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                        <Border Uid="Border_42"
                                                                Background="Transparent"
                                                                Padding="{Binding Padding,
                                                                                  RelativeSource={RelativeSource TemplatedParent}}">
                                                            <Viewbox Uid="Viewbox_3"
                                                                     x:Name="Content"
                                                                     RenderTransformOrigin="0.5,0.5">
                                                                <Canvas Uid="Canvas_5"
                                                                        Width="32"
                                                                        Height="32">
                                                                    <Path Uid="Path_12"
                                                                          x:Name="Cross"
                                                                          Canvas.Left="16"
                                                                          Canvas.Top="16"
                                                                          Stroke="{StaticResource BrightBackgroundBrush}"
                                                                          StrokeThickness="5">
                                                                        <Path.Data>
                                                                            <GeometryGroup>
                                                                                <LineGeometry StartPoint="-10,0" EndPoint="10,0" />
                                                                                <LineGeometry StartPoint="0,-10" EndPoint="0,10" />
                                                                            </GeometryGroup>
                                                                        </Path.Data>
                                                                    </Path>
                                                                </Canvas>
                                                            </Viewbox>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter TargetName="Cross" Property="Stroke" Value="{StaticResource HighlightBrush}" />
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter TargetName="Content" Property="RenderTransform">
                                                                    <Setter.Value>
                                                                        <ScaleTransform ScaleX="0.9" ScaleY="0.9" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </RepeatButton.Style>
                                </RepeatButton>
                            </Grid>
                        </Grid>
                        <Grid Uid="Grid_33">
                            <Border Uid="Border_59"
                                    x:Name="PART_ContentHost"
                                    Margin="{TemplateBinding Padding}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    KeyboardNavigation.IsTabStop="False"
                                    KeyboardNavigation.TabIndex="1"
                                    KeyboardNavigation.TabNavigation="Local" />
                        </Grid>
                    </DockPanel>
                    <ControlTemplate.Triggers>
                        <Trigger Property="ViewingMode" Value="Page">
                            <Setter TargetName="PageViewButton" Property="IsChecked" Value="True" />
                        </Trigger>
                        <Trigger Property="ViewingMode" Value="TwoPage">
                            <Setter TargetName="TwoPageViewButton" Property="IsChecked" Value="True" />
                        </Trigger>
                        <Trigger Property="ViewingMode" Value="Scroll">
                            <Setter TargetName="ScrollViewButton" Property="IsChecked" Value="True" />
                            <Setter TargetName="PageCountAndButtons" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="Document" Value="{x:Null}">
                            <Setter TargetName="FindButton" Property="IsEnabled" Value="False" />
                        </Trigger>
                        <Trigger Property="IsFindEnabled" Value="False">
                            <Setter TargetName="FindButton" Property="IsEnabled" Value="False" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>